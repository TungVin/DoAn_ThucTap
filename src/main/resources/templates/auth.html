<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<link rel="icon" type="image/png" th:href="@{/img/Eduq.png}">

<head>
    <meta charset="UTF-8">
    <title>ÄÄƒng nháº­p / ÄÄƒng kÃ½ - EduQuiz</title>
    <link rel="stylesheet" th:href="@{/css/auth.css}">
</head>

<body>

<div th:if="${error}" class="alert alert-error" th:text="${error}"></div>
<div th:if="${success}" class="alert alert-success" th:text="${success}"></div>

<div id="container">
    <div class="login">
        <div class="content">
            <h1>ÄÄƒng nháº­p</h1>
            <form th:action="@{/auth/login}" method="post">
                <!-- Giá»¯ redirect Ä‘á»ƒ login xong quay láº¡i trang Ä‘ang má»Ÿ (vd: /quiz/5) -->
                <input type="hidden" name="redirect" th:value="${redirect}">

                <input type="email" name="email" placeholder="Email" required>
                <input type="password" name="password" placeholder="Máº­t kháº©u" required>

                <div style="display: flex; justify-content: space-between; align-items: center; margin: 15px 0;">
                    <label style="display: flex; align-items: center; margin: 0;">
                        <input type="checkbox" name="rememberMe" value="true" style="width: auto; margin: 0 8px 0 0;">
                        <span style="margin: 0; font-size: 1.4em;">Ghi nhá»› Ä‘Äƒng nháº­p</span>
                    </label>
                    <span class="forget"><a href="#">QuÃªn máº­t kháº©u?</a></span>
                </div>

                <button type="submit">ÄÄƒng nháº­p</button>
            </form>

            <span class="loginwith">Hoáº·c Ä‘Äƒng nháº­p vá»›i</span>
            <a href="#">Facebook</a>
            <a href="#">Google</a>
            <a href="#">GitHub</a>
            <span class="copy">&copy; 2024 EduQuiz</span>
        </div>
    </div>

    <div class="page front">
        <div class="content">
            <h1>Xin chÃ o!</h1>
            <p>Nháº­p thÃ´ng tin cá»§a báº¡n vÃ  báº¯t Ä‘áº§u hÃ nh trÃ¬nh cÃ¹ng chÃºng tÃ´i</p>
            <button type="button" id="register">ÄÄƒng kÃ½</button>
        </div>
    </div>

    <div class="page back">
        <div class="content">
            <h1>ChÃ o má»«ng trá»Ÿ láº¡i!</h1>
            <p>Äá»ƒ tiáº¿p tá»¥c káº¿t ná»‘i vá»›i chÃºng tÃ´i, vui lÃ²ng Ä‘Äƒng nháº­p</p>
            <button type="button" id="login">ÄÄƒng nháº­p</button>
        </div>
    </div>

    <div class="register">
        <div class="content">
            <h1>ÄÄƒng kÃ½</h1>
            <form th:action="@{/auth/register}" method="post">
                <!-- Giá»¯ redirect Ä‘á»ƒ Ä‘Äƒng kÃ½ xong váº«n á»Ÿ auth vÃ  login quay láº¡i Ä‘Ãºng trang -->
                <input type="hidden" name="redirect" th:value="${redirect}">

                <input type="text" name="name" placeholder="Há» vÃ  tÃªn" required>
                <input type="email" name="email" placeholder="Email" required>
                <input type="password" name="password" placeholder="Máº­t kháº©u (tá»‘i thiá»ƒu 6 kÃ½ tá»±)" required>

                <select name="role" class="role-select" required>
                    <option value="">Chá»n vai trÃ²</option>
                    <option value="STUDENT">ğŸ‘¨â€ğŸ“ Há»c sinh</option>
                    <option value="TEACHER">ğŸ‘¨â€ğŸ« GiÃ¡o viÃªn</option>
                </select>

                <label style="display: flex; align-items: center; margin: 15px 0;">
                    <input type="checkbox" name="acceptTerms" value="true" required style="width: auto; margin: 0 8px 0 0;">
                    <span style="margin: 0;">TÃ´i cháº¥p nháº­n Ä‘iá»u khoáº£n</span>
                </label>

                <button type="submit">ÄÄƒng kÃ½</button>
            </form>
        </div>
    </div>
</div>

<a href="/" class="version">â† Vá» trang chá»§ EduQuiz</a>

<script th:src="@{/js/script.js}"></script>

<script>
    window.addEventListener('DOMContentLoaded', function() {
        const alerts = document.querySelectorAll('.alert');
        alerts.forEach(function(alert) {
            setTimeout(function() {
                alert.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(function() {
                    alert.remove();
                }, 300);
            }, 5000);

            alert.style.cursor = 'pointer';
            alert.addEventListener('click', function() {
                alert.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(function() {
                    alert.remove();
                }, 300);
            });
        });
    });
</script>

</body>
</html>
